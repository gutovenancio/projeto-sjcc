:root{
  --jc-red: #D41B1B;
  --jc-red-600:#B00000;
  --jc-red-700:#B61616;

  --jc-gray-50:#F8F8F8;
  --jc-gray-100:#F2F2F2;
  --jc-gray-200:#EAEAEA;
  --jc-gray-300:#E0E0E0;
  --jc-gray-500:#6B6B6B;
  --jc-gray-700:#444;
  --jc-gray-900:#333;

  --success-50:#EAF8EE;
  --success-600:#1E824C;

  --jc-text:#111;

  --oswald: "Oswald", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --manrope:"Manrope", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --roboto: "Roboto", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;

  --font-ui: var(--manrope);
  --font-title: var(--oswald);
  --font-aux: var(--roboto);

  --fw-regular: 500;
  --fw-bold: 800;
  --caps-tracking: .5px;

  --radius-lg: 16px;
  --shadow-soft: 0 2px 6px rgba(0,0,0,.03);

  --reward-gap: 10px;        
  --reward-min-h: 80px;       
  --reward-pad-y: 12px;       
  --reward-pad-x: 14px;       
  --reward-radius: 12px;      
  --reward-logo: 48px;       

  --jcoin-size: 21px;         
  --badge-font: 14px;        
  --redeem-h: 32px;           
  --redeem-px: 12px;
  --redeem-fs: 12px;          

  --ranking-min-h: 64px;    
  --rank-medal: 26px;
  --rank-photo: 28px;

  --container-max: 1240px;
  --grid-gap: 16px;
}

*{ box-sizing:border-box; margin:0; padding:0; }
html{ font-size:16px; }
img{ max-width:100%; height:auto; display:block; }
a{ color:inherit; text-decoration:none; }

body{
  background:#f5f5f5;
  color:var(--jc-text);
  font-family:var(--font-ui);
  line-height:1.35;
}
.container{
  max-width: var(--container-max);
  margin:0 auto;
  padding:12px 16px 24px;
}

.app-header{
  position:sticky; top:0; z-index:50;
  background:#fff;
  border-bottom:1px solid var(--jc-gray-200);
  box-shadow:0 2px 8px rgba(0,0,0,.04);
  display:grid; grid-template-columns:1fr auto 1fr;
  align-items:center; padding:10px 16px; margin-bottom:8px;
}
.app-header__left{ display:flex; align-items:center; gap:8px; }
.app-logo{ height:34px; width:auto; justify-self:center; }
.app-actions{ justify-self:end; display:flex; gap:10px; align-items:center; }
.app-avatar{ width:28px; height:28px; border-radius:50%; object-fit:cover; border:1px solid var(--jc-gray-300); }
.icon-btn{ background:transparent; border:0; padding:6px; border-radius:8px; cursor:pointer; transition:background .2s ease, transform .1s ease; }
.icon-btn img{ width:22px; height:22px; object-fit:contain; }
.icon-btn:hover{ background:#fff0f0; }
.icon-btn:active{ transform:translateY(1px); }
.icon-btn:focus-visible{ outline:3px solid #ffb3b3; outline-offset:2px; }

.top-row{
  display:grid; gap:var(--grid-gap); margin-top:8px;
  grid-template-columns:1fr; grid-template-areas:"left" "right";
  align-items:start;
}
.top-left{ grid-area:left; display:grid; gap:14px; }
.user-panel{ grid-area:right; align-self:start; }

@media (min-width:1024px){
  .top-row{ grid-template-columns:2fr 1fr; grid-template-areas:"left right"; }
}

.top-grid{ display:grid; gap:12px; grid-template-columns:1fr; }
@media (min-width:900px){ .top-grid{ grid-template-columns:repeat(3,1fr); } }

.mini-stat{
  background:#fff; border:1px solid var(--jc-gray-200);
  border-radius:var(--radius-lg); padding:16px;
  box-shadow:var(--shadow-soft);
  text-align:center; display:grid; gap:8px;
}
.mini-icon-img{ width:24px; height:24px; margin:0 auto; }
.mini-value{ font-weight:var(--fw-bold); font-size:1.8rem; letter-spacing:.2px; }
.mini-label{ font-size:.85rem; color:var(--jc-gray-500); }

.level-card{
  background:#fff; border:1px solid var(--jc-gray-200);
  border-radius:var(--radius-lg); padding:16px; display:grid; gap:12px; box-shadow:var(--shadow-soft);
}
.level-header{ display:flex; justify-content:space-between; align-items:center; }
#levelLabel{ font-family:var(--font-title); font-size:1.05rem; letter-spacing:var(--caps-tracking); }
.points-strong{ font-family:var(--font-title); color:var(--jc-red-600); font-size:1.1rem; font-weight:700; }
.level-progress{ display:grid; gap:6px; }
.level-bar-bg{ height:6px; background:#eee; border-radius:999px; overflow:hidden; }
.level-bar-fill{ height:100%; background:var(--jc-red); width:0; transition:width .35s ease; }
.level-legend{ display:flex; justify-content:space-between; align-items:center; font-size:.86rem; color:var(--jc-gray-500); }
.level-hint-left{ font-family:var(--font-aux); }

.user-panel{
  display:grid; grid-template-columns:auto 1fr; gap:12px; align-items:center;
  background:#fff; border:1px solid var(--jc-gray-200);
  border-radius:var(--radius-lg); padding:16px; box-shadow:var(--shadow-soft);
}
.user-avatar{ width:68px; height:68px; border-radius:50%; object-fit:cover; }
.user-info{ display:grid; gap:4px; }
.user-name{ font-size:1.05rem; font-weight:var(--fw-bold); }
.user-email{ font-size:.9rem; color:#777; }
.user-prefs{ display:flex; gap:6px; flex-wrap:wrap; margin-top:4px; }
.chip{ background:#fff0f0; color:var(--jc-red-600); padding:4px 8px; border-radius:999px; font-size:.75rem; }
.user-wallet{ margin-top:6px; font-size:.92rem; }
.user-wallet b{ color:var(--jc-red-600); font-family:var(--font-title); letter-spacing:.2px; }

.perfil-inativo{
  display:none; background:#fff; border:1px solid var(--jc-gray-200);
  border-radius:var(--radius-lg); padding:16px; box-shadow:var(--shadow-soft);
}
.intro-title{ font-family:var(--font-title); font-size:1.1rem; letter-spacing:var(--caps-tracking); margin-bottom:6px; }
.steps{ display:grid; gap:8px; margin:10px 0 12px; }
.step{ display:flex; gap:10px; align-items:flex-start; }
.step-num{ width:24px; height:24px; border-radius:50%; display:grid; place-items:center; background:#fff0f0; color:var(--jc-red-600); font-weight:700; font-size:.8rem; }
.step-text{ font-size:.95rem; color:#333; }
.cta-center{ text-align:center; margin-top:10px; }
.btn-primary{
  background:var(--jc-red); color:#fff; border:none; border-radius:999px;
  padding:10px 16px; font-weight:800; cursor:pointer; transition:all .2s ease;
  text-transform:uppercase; letter-spacing:.2px;
}
.btn-primary:hover{ background:var(--jc-red-600); }

.content-grid{ display:grid; gap:var(--grid-gap); margin-top:16px; grid-template-columns:1fr; }
@media (min-width:1024px){
  .content-grid{ grid-template-columns:1.35fr .95fr; gap:20px; }
}

.panel{
  background:#fff; border-radius:var(--radius-lg);
  box-shadow:var(--shadow-soft); overflow:hidden; border:1px solid var(--jc-gray-200);
}
.panel-header{
  background:var(--jc-red); color:#fff;
  font-family:var(--font-title); font-weight:800;
  text-transform:uppercase; letter-spacing:var(--caps-tracking);
  padding:16px 18px;
}

.content-grid > .panel:first-child{ min-height:520px; }
#rankingPanel{ min-height:520px; }

.rewards-list{
  list-style:none; display:grid; gap:var(--reward-gap);
  padding:16px 16px 10px;
}
.rewards-list .reward{
  display:grid; grid-template-columns:1fr auto; align-items:center;
  gap:12px;
  min-height:var(--reward-min-h);
  padding:var(--reward-pad-y) var(--reward-pad-x);
  border:1px solid var(--jc-gray-200); border-radius:var(--reward-radius); background:#fff;
}
.rewards-list .reward-logo{
  width:var(--reward-logo); height:var(--reward-logo);
  border-radius:8px; object-fit:cover; background:#eee;
}
.rewards-list h4{ font-family:var(--font-title); font-weight:700; font-size:22px; margin:0 0 4px; }
.rewards-list p{  font-family:var(--font-ui); color:var(--jc-gray-700); margin:0; }

.rewards-list .price-line{
  display:inline-flex; align-items:center; gap:6px;
  line-height:1; min-height:42px;
}
.rewards-list .jcoin-value,
.rewards-list .jcoin-label{
  font-family:var(--font-title);
  font-weight:700; font-size:var(--jcoin-size);
  color:#D63B3B; letter-spacing:.02em; line-height:1;
}

.reward-cta{
  display:flex; flex-direction:column;
  align-items:flex-end; justify-content:center;
  gap:3px; text-align:right;
}

.badge{ font-size:.75rem; padding:4px 8px; border-radius:999px; background:#eee; }
.badge.status{
  align-self:flex-start;
  font-family:var(--roboto); font-weight:600;
  font-size:var(--badge-font);
  padding:6px 10px; border-radius:999px;
}
.reward.can-redeem .badge.status{ color:var(--success-600); background:var(--success-50); }
.reward.locked     .badge.status{ color:var(--jc-gray-700); background:#FFF3F3; }

.redeem-btn{
  font-family:var(--font-ui);
  font-weight:800; font-size:var(--redeem-fs);
  text-transform:uppercase; letter-spacing:.4px;
  height:var(--redeem-h); padding:6px var(--redeem-px);
  border-radius:999px; border:0; color:#fff;
  background:#8A8D91; box-shadow:0 2px 6px rgba(0,0,0,.08);
  cursor:default; transition:background .18s ease, transform .12s ease, box-shadow .18s ease;
}
.reward.can-redeem .redeem-btn{ background:var(--jc-red); cursor:pointer; }
.reward.can-redeem .redeem-btn:hover{ background:var(--jc-red-700); transform:translateY(-1px); box-shadow:0 4px 10px rgba(0,0,0,.12); }
.reward.locked .redeem-btn{ background:#AAB0B6; cursor:not-allowed; box-shadow:none; }
.redeem-btn[disabled]{ opacity:1; }

.more-link{ text-align:center; padding:6px 0 16px; }
.more-link a{
  font-family:var(--font-title);
  font-size:13px; color:var(--jc-red-600);
  text-decoration:underline; text-underline-offset:3px;
  letter-spacing:.2px; padding:6px 8px; border-radius:6px;
}
.more-link a:hover{ background:#FFECEC; }

.ranking-list{ list-style:none; padding:16px; }
.ranking-list li{
  display:grid; grid-template-columns:auto auto 1fr auto; align-items:center;
  gap:10px; padding:10px;
  min-height:var(--ranking-min-h);
  border:1px solid var(--jc-gray-200); border-radius:12px; margin-bottom:8px; background:#fff;
}
.rank-medal{ width:var(--rank-medal); height:var(--rank-medal); }
.rank-photo{ width:var(--rank-photo); height:var(--rank-photo); border-radius:50%; object-fit:cover; border:1px solid var(--jc-gray-300); }
.ranking-list b{ font-family:var(--font-title); font-weight:700; color:var(--jc-red); }
.ranking-list li.me{ background:#fff0f0; border-color:#ffd7d7; }

.ranking-empty{ padding:14px 16px; color:#333; display:grid; gap:10px; }
.ranking-empty .btn-primary{ justify-self:start; }

.history-footer{ display:flex; justify-content:center; padding:12px 0 24px; }
.history-pill{
  background:#fff; color:var(--jc-red-600);
  border:2px solid var(--jc-red-600); border-radius:999px;
  padding:10px 18px; font-weight:800; font-size:.8rem;
  letter-spacing:.2px; text-transform:uppercase;
  box-shadow:0 1px 3px rgba(0,0,0,.06);
  transition:all .2s ease;
}
.history-pill:hover{ background:var(--jc-red-600); color:#fff; }
.history-pill:focus-visible{ outline:3px solid #ffb3b3; outline-offset:2px; }


.compact{
  --reward-gap: 6px;
  --reward-min-h: 68px;
  --reward-pad-y: 6px;
  --reward-pad-x: 10px;
  --reward-radius: 10px;
  --reward-logo: 36px;

  --jcoin-size: 18px;
  --badge-font: 12px;
  --redeem-h: 28px;
  --redeem-px: 10px;
  --redeem-fs: 11px;

  --ranking-min-h: 56px;
  --rank-medal: 24px;
  --rank-photo: 26px;
}
